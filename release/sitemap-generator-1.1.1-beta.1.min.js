var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var g=0;return function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,g,n){f!=Array.prototype&&f!=Object.prototype&&(f[g]=n.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function f(n){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(n||"")+"_"+g++,n)}var g=0;return f}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};
$jscomp.iteratorFromArray=function(f,g){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var n=0,k={next:function(){if(n<f.length){var m=n++;return{value:g(m,f[m]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill=function(f,g,n,k){if(g){n=$jscomp.global;f=f.split(".");for(k=0;k<f.length-1;k++){var m=f[k];m in n||(n[m]={});n=n[m]}f=f[f.length-1];k=n[f];g=g(k);g!=k&&null!=g&&$jscomp.defineProperty(n,f,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
$jscomp.findInternal=function(f,g,n){f instanceof String&&(f=String(f));for(var k=f.length,m=0;m<k;m++){var l=f[m];if(g.call(n,l,m,f))return{i:m,v:l}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,n){return $jscomp.findInternal(this,f,n).v}},"es6","es3");
(function(f,g){"object"===typeof exports&&"undefined"!==typeof module?g(exports):"function"===typeof define&&define.amd?define(["exports"],g):g(f.riot={})})(this,function(f){function g(a,b){return(b||document).querySelector(a)}function n(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function k(a,b,c){var d=cb.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function m(a,b){return Object.getOwnPropertyDescriptor(a,
b)}function l(a){return"undefined"===typeof a}function E(a,b){var c=m(a,b);return l(a[b])||c&&c.writable}function r(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var h in b)E(a,h)&&(a[h]=b[h]);return a}function H(a){return Object.create(a)}function I(a,b){return[].slice.call((b||document).querySelectorAll(a))}function A(){return document.createTextNode("")}function ka(a,b){a.style.display=b?"":"none";a.hidden=b?!1:!0}function la(a,b,c){c?(b=a.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+
b+"</svg>","application/xml").documentElement,!0),a.appendChild(b)):a.innerHTML=b}function ma(a,b){if(a)for(var c;c=db.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function T(){return document.createDocumentFragment()}function na(a,b,c){a.insertBefore(b,c.parentNode&&c)}function Ba(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function oa(a,b,c){if(a&&(c=b(a,c),!1!==c))for(a=a.firstChild;a;){var d=a.nextSibling;oa(a,b,c);a=d}}function Ca(a){return l(a)||null===
a}function U(a){return Ca(a)||""===a}function F(a){return"function"===typeof a}function Z(a){return a&&"object"===typeof a}function Da(a){a=a.ownerSVGElement;return!!a||null===a}function V(a){return Array.isArray(a)||a instanceof Array}function Ea(a){return eb.test(a)}function N(a){return"string"===typeof a}function J(a,b){return-1!==a.indexOf(b)}function t(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function Fa(a,b){return a.slice(0,b.length)===b}function u(a,b,c,d){Object.defineProperty(a,
b,r({value:c,enumerable:!1,writable:!1,configurable:!0},d));return a}function Ga(a){return a.replace(/-(\w)/g,function(a,c){return c.toUpperCase()})}function Ha(a){console&&console.warn&&console.warn(a)}function O(a,b,c,d,e){var h=a[b],f=V(h),p=!l(e);h&&h===c||(!h&&d?a[b]=[c]:h?f?(a=h.indexOf(c),a!==e&&(-1!==a&&h.splice(a,1),p?h.splice(e,0,c):h.push(c))):a[b]=[h,c]:a[b]=c)}function aa(a){return a.tagName&&B[a.getAttribute("data-is")||a.getAttribute("data-is")||a.tagName.toLowerCase()]}function ba(a,
b){var c=aa(a);return(b=!b&&a.getAttribute("data-is"))&&!w.hasExpr(b)?b:c?c.name:a.tagName.toLowerCase()}function pa(){return this.parent?r(H(this),this.parent):this}function fb(a,b){if(!gb.test(a))return a;var c={};b=b&&b.replace(hb,function(a,b,h){c[b]=c[b]||h;return""}).trim();return a.replace(ib,function(a,b,h){return c[b]||h||""}).replace(jb,function(a,c){return b||c||""})}function kb(a,b,c){var d=a&&a.match(/^\s*<([-\w]+)/);d=d&&d[1].toLowerCase();var e=n(c?"svg":"div");a=fb(a,b);lb.test(d)?
(c=e,b=(e="o"===d[0])?"select>":"table>",c.innerHTML="<"+b+a.trim()+"</"+b,b=c.firstChild,e?b.selectedIndex=-1:(a=mb[d])&&1===b.childElementCount&&(b=g(a,b)),e=b):la(e,a,c);return e}function K(a){for(;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function nb(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;E(c,"currentTarget")&&(c.currentTarget=a);E(c,"target")&&(c.target=c.srcElement);E(c,"which")&&(c.which=c.charCode||c.keyCode);c.item=e;b.call(this,c);qa.autoUpdate&&
!c.preventUpdate&&(a=K(this),a.isMounted&&a.update())}function ra(a,b,c,d){a=ca(a,b,c);b=b.tagName||ba(b.root,!0);c=K(d);u(a,"parent",c);a.__.parent=d;O(c.tags,b,a);c!==d&&O(d.tags,b,a);return a}function G(a,b,c,d){V(a[b])?(c=a[b].indexOf(c),-1!==c&&a[b].splice(c,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]):a[b]===c&&delete a[b]}function da(a,b){var c=A(),d=A(),e=T();this.root.insertBefore(c,this.root.firstChild);this.root.appendChild(d);this.__.head=c;for(this.__.tail=d;c;)d=c.nextSibling,
e.appendChild(c),this.__.virts.push(c),c=d;b?a.insertBefore(e,b.__.head):a.appendChild(e)}function sa(a,b){var c=T();da.call(a,c);b.parentNode.replaceChild(c,b)}function ob(a,b,c){var d=a.tag||a.dom._tag,e=(d?d.__:{}).head,h="VIRTUAL"===a.dom.tagName;if(d&&a.tagName===c)d.update();else{if(d){if(h){var f=A();e.parentNode.insertBefore(f,e)}d.unmount(!0)}N(c)&&(a.impl=B[c],a.impl&&(a.tag=d=ra(a.impl,{root:a.dom,parent:b,tagName:c},a.dom.innerHTML,b),t(a.attrs,function(a){return k(d.root,a.name,a.value)}),
a.tagName=c,d.mount(),h&&sa(d,f||d.root),b.__.onUnmount=function(){var a=d.opts.dataIs;G(d.parent.tags,a,d);G(d.__.parent.tags,a,d);d.unmount()}))}}function ta(a){if(!this.root||!this.root.getAttribute("virtualized")){var b=a.dom,c;(c=a.attr)?(c=c.replace("riot-",""),Ia[c]&&(c=Ia[c])):c=null;var d=J(["show","hide"],c),e=a.root&&"VIRTUAL"===a.root.tagName,h=this.__.isAnonymous,f=b&&(a.parent||b.parentNode),p="style"===c,P="class"===c;if(a._riot_id)a.__.wasCreated?a.update():(a.mount(),e&&sa(a,a.root));
else{if(a.update)return a.update();e=d&&!h?pa.call(this):this;e=w(a.expr,e);h=!U(e);var q=Z(e);q&&(P?e=w(JSON.stringify(e),this):p&&(e=Ba(e)));if(a.attr&&(!a.wasParsedOnce||!h||!1===e)){var r=b.getAttribute(a.attr)?a.attr:c;b.removeAttribute(r)}a.bool&&(e=e?c:!1);if(a.isRtag)return ob(a,this,e);if(!a.wasParsedOnce||a.value!==e)if(a.value=e,a.wasParsedOnce=!0,!q||P||p||d)h||(e=""),c?F(e)?(a=c,d=nb.bind(this,b,e),b[a]=null,c=a.replace(pb,""),J(this.__.listeners,b)||this.__.listeners.push(b),b["__riot-events__"]||
(b["__riot-events__"]={}),b["__riot-events__"][a]&&b.removeEventListener(c,b["__riot-events__"][a]),b["__riot-events__"][a]=d,b.addEventListener(c,d,!1)):d?ka(b,"hide"===c?!e:e):(a.bool&&(b[c]=e),"value"===c&&b.value!==e?b.value=e:h&&!1!==e&&k(b,c,e),p&&b.hidden&&ka(b,!1)):(e+="",f&&(a.parent=f,"TEXTAREA"===f.tagName?(f.value=e,ua||(b.nodeValue=e)):b.nodeValue=e))}}}function Ja(a,b,c,d,e){if(!a||!c){var h=a?pa.call(this):b||this;t(e,function(a){a.expr&&ta.call(h,a.expr);d[Ga(a.name).replace("riot-",
"")]=a.expr?a.expr.value:a.value})}}function W(a){return a?a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,c){c=c.trim().toLowerCase();return a+',[data-is="'+c+'"]'},""):(a=Object.keys(B),a+W(a))}function Ka(a,b){var c=this.name,d=this.tmpl,e=this.css,h=this.attrs,f=this.onCreate;B[c]||(va(c,d,e,h,f),B[c].class=this.constructor);wa(a,c,b,this);e&&L.inject();return this}function va(a,b,c,d,e){F(d)&&(e=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d="");c&&(F(c)?e=c:L.add(c,a));a=a.toLowerCase();
B[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function La(a,b,c,d,e){c&&L.add(c,a);B[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Ma(a,b,c){function d(a){if(a.tagName){var h=a.getAttribute("data-is");b&&h!==b&&(h=b,k(a,"data-is",b));(a=wa(a,h||a.tagName.toLowerCase(),c))&&e.push(a)}else a.length&&t(a,d)}var e=[],h;L.inject();Z(b)&&(c=b,b=0);N(a)&&(a=(a="*"===a?h=W():a+W(a.split(/, */)))?I(a):[]);if("*"===b){b=h||W();if(a.tagName)a=I(b,a);else{var f=[];t(a,function(a){return f.push(I(b,a))});a=f}b=
0}d(a);return e}function X(a,b,c){if(Z(a))X("__"+qb++ +"__",a,!0);else{c=c?rb:Na;if(!b){if(l(c[a]))throw Error("Unregistered mixin: "+a);return c[a]}c[a]=F(b)?r(b.prototype,c[a]||{})&&b:r(c[a]||{},b)}}function Oa(){return t(Q,function(a){return a.update()})}function Pa(a){L.remove(a);return delete B[a]}function sb(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];t(b,function(b){var c,d=[],f=["init","__proto__"];b=N(b)?X(b):b;var p=F(b)?new b:b;var P=Object.getPrototypeOf(p);do d=d.concat(Object.getOwnPropertyNames(c||
p));while(c=Object.getPrototypeOf(c||p));t(d,function(b){if(!J(f,b)){var c=m(p,b)||m(P,b),d=c&&(c.get||c.set);!a.hasOwnProperty(b)&&d?Object.defineProperty(a,b,c):a[b]=F(p[b])?p[b].bind(a):p[b]}});p.init&&p.init.bind(a)(a.opts)});return a}function Qa(a,b){var c=this.parent;if(c){var d=c.tags[a];V(d)?d.splice(b,0,d.splice(d.indexOf(this),1)[0]):O(c.tags,a,this)}}function Ra(a,b){for(var c=this.__.head,d,e=T();c;)if(d=c.nextSibling,e.appendChild(c),c=d,c===this.__.tail){e.appendChild(c);a.insertBefore(e,
b.__.head);break}}function Sa(a,b,c){var d={};d[a.key]=b;a.pos&&(d[a.pos]=c);return d}function tb(a,b,c){var d=b.length;for(a=a.length-c;d>a;)d--,ub.apply(b[d],[b,d])}function ub(a,b){a.splice(b,1);this.unmount();G(this.parent,this,this.__.tagName,!0)}function vb(a){var b=this;t(Object.keys(this.tags),function(c){Qa.apply(b.tags[c],[c,a])})}function wb(a,b,c){c?Ra.apply(this,[a,b]):na(a,this.root,b.root)}function xb(a,b,c){c?da.apply(this,[a,b]):na(a,this.root,b.root)}function yb(a,b){b?da.call(this,
a):a.appendChild(this.root)}function zb(a,b,c){var d;(d="string"!==typeof a.getAttribute("no-reorder"))||(a.removeAttribute("no-reorder"),d=void 0);var e=d,h=a.getAttribute("key"),f=h?w.hasExpr(h):!1,p=ba(a),P=B[p];d=a.parentNode;var q=A(),l=aa(a),n=a.getAttribute("if"),g=[],k=a.innerHTML,x=!B[p],v="VIRTUAL"===a.tagName,M=[],C;a.removeAttribute("each");a.removeAttribute("key");c=w.loopKeys(c);c.isLoop=!0;n&&a.removeAttribute("if");d.insertBefore(q,a);d.removeChild(a);c.update=function(){c.value=w(c.val,
b);var d=c.value,y=T(),m=!V(d)&&!N(d),Y=q.parentNode,Ta=[];if(Y){m?d=(C=d||!1)?Object.keys(d).map(function(a){return Sa(c,d[a],a)}):[]:C=!1;var xa=0;t(d,function(D,q){q-=xa;var R=!C&&c.key?Sa(c,D,q):D;if(n&&!w(n,r(H(b),R)))xa++;else{var m=h?f?w(h,R):D[h]:D;D=e&&"object"===typeof D&&!C;var t=M.indexOf(m),u=-1===t;t=!u&&D?t:q;var z=g[t],E=q>=M.length;if(u=D&&u||!D&&!z)z=ca(P,{parent:b,isLoop:!0,isAnonymous:x,tagName:p,root:a.cloneNode(x),item:R,index:q},k),z.mount(),E?yb.apply(z,[y||Y,v]):xb.apply(z,
[Y,g[q],v]),E||M.splice(q,0,R),g.splice(q,0,z),l&&O(b.tags,p,z,!0);else if(t!==q&&D){if(h||J(d,M[t]))wb.apply(z,[Y,g[q],v]),g.splice(q,0,g.splice(t,1)[0]),M.splice(q,0,M.splice(t,1)[0]);c.pos&&(z[c.pos]=q);!l&&z.tags&&vb.call(z,q)}r(z.__,{item:R,index:q,parent:b});Ta[q]=m;u||z.update(R)}});tb(d,g,xa);M=Ta.slice();Y.insertBefore(y,q)}};c.unmount=function(){t(g,function(a){a.unmount()})};return c}function Ua(a,b,c,d){return H(Va).init(a,b,c,d)}function ea(a){t(a,function(a){a.unmount?a.unmount(!0):
a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Wa(a,b,c){return H(Ab).init(a,b,c)}function Xa(a,b){var c=this,d=[];oa(a,function(e){var h=e.nodeType,f;if(b||e!==a)if(3===h&&"STYLE"!==e.parentNode.tagName&&w.hasExpr(e.nodeValue)&&d.push({dom:e,expr:e.nodeValue}),1===h){h="VIRTUAL"===e.tagName;if(f=e.getAttribute("each"))return h&&k(e,"loopVirtual",!0),d.push(zb(e,c,f)),!1;if(f=e.getAttribute("if"))return d.push(Wa(e,c,f)),!1;if((f=e.getAttribute("data-is"))&&w.hasExpr(f))return d.push({isRtag:!0,
expr:f,dom:e,attrs:[].slice.call(e.attributes)}),!1;f=aa(e);h&&(e.getAttribute("virtualized")&&e.parentElement.removeChild(e),f||e.getAttribute("virtualized")||e.getAttribute("loopVirtual")||(f={tmpl:e.outerHTML}));if(f&&(e!==a||b)){var p=e.getAttribute("data-is");if(h&&!p)k(e,"virtualized",!0),h=ca({tmpl:e.outerHTML},{root:e,parent:c},e.innerHTML),d.push(h);else return p&&h&&Ha('Virtual tags shouldn\'t be used together with the "data-is" attribute - https://github.com/riot/riot/issues/2511'),d.push(ra(f,
{root:e,parent:c},e.innerHTML,c)),!1}ya.apply(c,[e,e.attributes,function(a,b){b&&d.push(b)}])}});return d}function ya(a,b,c){var d=this;t(b,function(b){if(!b)return!1;var e=b.name,f=Ea(e),p;J(Bb,e)&&"yield"!==a.tagName.toLowerCase()?p=Ua(a,d,e,b.value):w.hasExpr(b.value)&&(p={dom:a,expr:b.value,attr:e,bool:f});c(b,p)})}function fa(a){var b=this.__.isAnonymous;u(this,"isMounted",a);b||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Cb(a,b,c,d){var e=
a.__,f=e.root;f._tag=a;ya.apply(e.parent,[f,f.attributes,function(b,c){!e.isAnonymous&&Va.isPrototypeOf(c)&&(c.tag=a);b.expr=c;e.instAttrs.push(b)}]);ma(e.impl.attrs,function(a,b){e.implAttrs.push({name:a,value:b})});ya.apply(a,[f,e.implAttrs,function(a,b){b?c.push(b):k(f,a.name,a.value)}]);Ja.apply(a,[e.isLoop,e.parent,e.isAnonymous,d,e.instAttrs]);var y=X("__global_mixin");if(y&&!e.skipAnonymous)for(var p in y)y.hasOwnProperty(p)&&a.mixin(y[p]);e.impl.fn&&e.impl.fn.call(a,d);e.skipAnonymous||a.trigger("before-mount");
t(Xa.apply(a,[b,e.isAnonymous]),function(a){return c.push(a)});a.update(e.item);if(!e.isAnonymous&&!e.isInline)for(;b.firstChild;)f.appendChild(b.firstChild);u(a,"root",f);!e.skipAnonymous&&a.parent?(b=K(a.parent),b.one(b.isMounted?"updated":"mount",function(){fa.call(a,!0)})):fa.call(a,!0);a.__.wasCreated=!0;return a}function Db(a,b,c){var d=a.__,e=d.root,f=Q.indexOf(a),y=e.parentNode;d.skipAnonymous||a.trigger("before-unmount");ma(d.impl.attrs,function(a){Fa(a,"riot-")&&(a=a.slice(5));e.removeAttribute(a)});
a.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})});-1!==f&&Q.splice(f,1);if(d.parent&&!d.isAnonymous){var p=K(d.parent);d.isVirtual?Object.keys(a.tags).forEach(function(b){return G(p.tags,b,a.tags[b])}):G(p.tags,d.tagName,a)}a.__.virts&&t(a.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)});ea(c);t(d.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});b?la(e,""):y&&y.removeChild(e);
if(d.onUnmount)d.onUnmount();a.isMounted||fa.call(a,!0);fa.call(a,!1);delete e._tag;return a}function ca(a,b,c){void 0===a&&(a={});void 0===b&&(b={});var d=b.context||{},e=r({},b.opts),f=b.parent,y=b.isLoop,p=!!b.isAnonymous,g=qa.skipAnonymousTags&&p,q=b.item,n=b.index,l=[],k=b.root;b=b.tagName||ba(k);var m="virtual"===b,x=!m&&!a.tmpl;g||za(d);a.name&&k._tag&&k._tag.unmount(!0);u(d,"isMounted",!1);u(d,"__",{impl:a,root:k,skipAnonymous:g,implAttrs:[],isAnonymous:p,instAttrs:[],innerHTML:c,tagName:b,
index:n,isLoop:y,isInline:x,item:q,parent:f,listeners:[],virts:[],wasCreated:!1,tail:null,head:null});u(d,"_riot_id",Ya());u(d,"root",k);r(d,{opts:e},q);u(d,"parent",f||null);u(d,"tags",{});u(d,"refs",{});if(x||y&&p)var v=k;else m||(k.innerHTML=""),v=kb(a.tmpl,c,Da(k));u(d,"update",function(a){var b=d.__,c={},e=d.isMounted&&!b.skipAnonymous;b.isAnonymous&&b.parent&&r(d,b.parent);r(d,a);Ja.apply(d,[b.isLoop,b.parent,b.isAnonymous,c,b.instAttrs]);e&&d.isMounted&&F(d.shouldUpdate)&&!d.shouldUpdate(a,
c)||(r(d.opts,c),e&&d.trigger("update",a),t(l,ta.bind(d)),e&&d.trigger("updated"));return d});u(d,"mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return sb.apply(void 0,[d].concat(a))});u(d,"mount",function(){return Cb(d,v,l,e)});u(d,"unmount",function(a){return Db(d,a,l)});return d}function wa(a,b,c,d){var e=B[b];b=B[b].class;b=d||(b?H(b.prototype):{});d=a._innerHTML=a._innerHTML||a.innerHTML;c=r({root:a,opts:c,context:b},{parent:c?c.parent:null});var f;e&&a&&(f=ca(e,c,
d));f&&f.mount&&(f.mount(!0),J(Q,f)||Q.push(f));return f}var Q=[],B={},Bb=["ref","data-ref"],cb=/^xlink:(\w+)/,ha="undefined"===typeof window?void 0:window,Eb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Fb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,pb=/^on/,db=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ia={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},eb=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,
ua=(ha&&ha.document||{}).documentMode|0,ia={},ja=!1;if(ha){var Aa=function(){var a=n("style"),b=g("style[type=riot]");k(a,"type","text/css");b?(b.id&&(a.id=b.id),b.parentNode.replaceChild(a,b)):document.head.appendChild(a);return a}();var Za=Aa.styleSheet}var L={styleNode:Aa,add:function(a,b){ia[b]=a;ja=!0},inject:function(){if(ha&&ja){ja=!1;var a=Object.keys(ia).map(function(a){return ia[a]}).join("\n");Za?Za.cssText=a:Aa.innerHTML=a}},remove:function(a){delete ia[a];ja=!0}},$a=function(){function a(a,
b){for(;0<=--b&&/\s/.test(a[b]););return b}var b="case default do else in instanceof prefix return typeof void yield".split(" "),c=b.reduce(function(a,b){return a+b.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(f,g){var h=/.*/g,l=h.lastIndex=g++;if(h=h.exec(f)[0].match(d)){h=l+h[0].length;l=a(f,l);var q=f[l];if(0>l||~"[{(,;:?=|&!^~>%*/".indexOf(q))return h;if("."===q)"."===f[l-1]&&(g=h);else if("+"===q||"-"===q){if(f[--l]!==
q||0>(l=a(f,l))||!e.test(f[l]))g=h}else if(~c.indexOf(q)){for(q=l+1;0<=--l&&e.test(f[l]););~b.indexOf(f.slice(l+1,q))&&(g=h)}}return g}}(),S=function(a){function b(a){return a}function c(a,b){b||(b=v);return new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(a){if("{ }"===a)return r;var b=a.split(" ");if(2!==b.length||g.test(a))throw Error('Unsupported brackets "'+a+'"');b=b.concat(a.replace(q,"\\").split(" "));b[4]=c(1<b[1].length?/{[\S\s]*?}/:r[4],b);b[5]=c(3<
a.length?/\\({|})/g:r[5],b);b[6]=c(r[6],b);b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+k,"g");b[8]=a;return b}function e(a){return a instanceof RegExp?x(a):v[a]}function f(a){(a||(a="{ }"))!==v[8]&&(v=d(a),x="{ }"===a?b:c,v[9]=x(r[9]));m=a}var l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,
g=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,q=/(?=[[\]()*+?.^$|])/g,k=l.source+"|"+/(\/)(?![*\/])/.source,n={"(":RegExp("([()])|"+k,"g"),"[":RegExp("([[\\]])|"+k,"g"),"{":RegExp("([{}])|"+k,"g")},r=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+k,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=a,x,v=[],t;e.split=function(a,b,c){function d(a){k&&(a=k+a,k="");b||x?f.push(a&&a.replace(c[5],"$1")):f.push(a)}function e(c,d,e){e&&(d=$a(a,
c));b&&d>c+2&&(r="\u2057"+p.length+"~",p.push(a.slice(c,d)),k+=a.slice(l,c)+r,l=d);return d}c||(c=v);var f=[],h,x,l,g=c[6],p=[],k="",r;for(x=l=g.lastIndex=0;h=g.exec(a);){var q=g.lastIndex;var C=h.index;if(x){if(h[2]){C=h[2];var m=n[C],t=1;for(m.lastIndex=q;h=m.exec(a);)if(h[1])if(h[1]===C)++t;else{if(!--t)break}else m.lastIndex=e(h.index,m.lastIndex,h[2]);g.lastIndex=t?a.length:m.lastIndex;continue}if(!h[3]){g.lastIndex=e(C,q,h[4]);continue}}h[1]||(d(a.slice(l,C)),l=g.lastIndex,g=c[6+(x^=1)],g.lastIndex=
l)}a&&l<a.length&&d(a.slice(l));f.qblocks=p;return f};e.hasExpr=function(a){return v[4].test(a)};e.loopKeys=function(a){var b=a.match(v[9]);return b?{key:b[1],pos:b[2],val:v[0]+b[3].trim()+v[1]}:{val:a.trim()}};e.array=function(a){return a?d(a):v};Object.defineProperty(e,"settings",{set:function(a){a=a||{};var b=a.brackets;Object.defineProperty(a,"brackets",{set:f,get:function(){return m},enumerable:!0});t=a;f(b)},get:function(){return t}});e.settings="undefined"!==typeof riot&&riot.settings||{};
e.set=f;e.skipRegex=$a;e.R_STRINGS=l;e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g;e.S_QBLOCKS=p;e.S_QBLOCK2=k;return e}(),w=function(){function a(a,d){return a?(l[a]||(l[a]=c(a))).call(d,b.bind({data:d,tmpl:a})):a}function b(b,c){b.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id};a.errorHandler?a.errorHandler(b):"undefined"!==typeof console&&"function"===typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}
function c(a){a=d(a);"try{return "!==a.slice(0,11)&&(a="return "+a);return new Function("E",a+";")}function d(a){a=S.split(a.replace(g,'"'),1);var b=a.qblocks,c;if(2<a.length||a[0]){var d,f,h=[];for(d=f=0;d<a.length;++d)(c=a[d])&&(c=d&1?e(c,1,b):'"'+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(h[f++]=c);c=2>f?h[0]:"["+h.join(",")+'].join("")'}else c=e(a[1],0,b);b.length&&(c=c.replace(k,function(a,c){return b[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return c}
function e(a,b,c){if(a=a.replace(/\s+/g," ").trim().replace(/ ?([[\({},?\.:]) ?/g,"$1")){for(var d=[],e=0,h;a&&(h=a.match(r))&&!h.index;){var l,g,k=/,|([[{(])|$/g;a=RegExp.rightContext;for(l=h[2]?c[h[2]].slice(1,-1).trim().replace(/\s+/g," "):h[1];g=(h=k.exec(a))[1];){var p=k,q=1,m=n[g];for(m.lastIndex=p.lastIndex;h=m.exec(a);)if(h[0]===g)++q;else if(!--q)break;p.lastIndex=q?a.length:m.lastIndex}g=a.slice(0,h.index);a=RegExp.rightContext;d[e++]=f(g,1,l)}a=e?1<e?"["+d.join(",")+'].join(" ").trim()':
d[0]:f(a,b)}return a}function f(a,b,c){var d;a=a.replace(t,function(a,b,c,e,f){c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+'("'+c+m+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!u.test(f.slice(e))));return a});d&&(a="try{return "+a+"}catch(e){E(e,this)}");c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)');return a}var l={};a.hasExpr=S.hasExpr;a.loopKeys=S.loopKeys;
a.clearCache=function(){l={}};a.errorHandler=null;var g=/\u2057/g,k=/\u2057(\d+)~/g,r=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,n={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},m='"in this?this:'+("object"!==typeof window?"global":"window")+").",t=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,u=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;a.version=S.version="v3.0.8";return a}(),za=function(a){a=
a||{};var b={},c=Array.prototype.slice;Object.defineProperties(a,{on:{value:function(c,e){"function"==typeof e&&(b[c]=b[c]||[]).push(e);return a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(c,e){if("*"!=c||e)if(e){c=b[c];for(var d=0,f;f=c&&c[d];++d)f==e&&c.splice(d--,1)}else delete b[c];else b={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,c){function d(){a.off(b,d);c.apply(a,arguments)}return a.on(b,d)},enumerable:!1,writable:!1,configurable:!1},
trigger:{value:function(d){var e=arguments,f=arguments.length-1,l=Array(f),g;for(g=0;g<f;g++)l[g]=e[g+1];e=c.call(b[d]||[],0);for(g=0;f=e[g];++g)f.apply(a,l);b["*"]&&"*"!=d&&a.trigger.apply(a,["*",d].concat(l));return a},enumerable:!1,writable:!1,configurable:!1}});return a},qa=r(H(S.settings),{skipAnonymousTags:!0,autoUpdate:!0}),Gb=Object.freeze({$$:I,$:g,createDOMPlaceholder:A,mkEl:n,setAttr:k,toggleVisibility:ka,getAttr:function(a,b){return a.getAttribute(b)},remAttr:function(a,b){a.removeAttribute(b)},
setInnerHTML:la,walkAttrs:ma,createFrag:T,safeInsert:na,styleObjectToString:Ba,walkNodes:oa}),Hb=Object.freeze({isBlank:U,isFunction:F,isObject:Z,isSvg:Da,isWritable:E,isArray:V,isBoolAttr:Ea,isNil:Ca,isString:N,isUndefined:l}),Ya=function(){var a=-1;return function(){return++a}}(),Ib=Object.freeze({contains:J,each:t,getPropDescriptor:m,startsWith:Fa,uid:Ya,defineProperty:u,objectCreate:H,extend:r,toCamel:Ga,warn:Ha}),gb=/<yield\b/i,jb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,hb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,
ib=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,mb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},lb=ua&&10>ua?Eb:Fb,Na={},rb=Na.__global_mixin={},qb=0,Jb=Object.freeze({Tag:Ka,tag:va,tag2:La,mount:Ma,mixin:X,update:Oa,unregister:Pa,version:"v3.9.4"}),Va={init:function(a,b,c,d){this.dom=a;this.attr=c;this.rawValue=d;this.parent=b;this.hasExp=w.hasExpr(d);return this},update:function(){var a=this.value,b=this.parent&&K(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=
this.hasExp?w(this.rawValue,this.parent):this.rawValue;!U(a)&&b&&G(b.refs,a,c);!U(this.value)&&N(this.value)?(b&&O(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&k(this.dom,this.attr,this.value)):this.dom.removeAttribute(this.attr);this.dom.__ref||(this.dom.__ref=c)},unmount:function(){var a=this.tag||this.dom,b=this.parent&&K(this.parent);!U(this.value)&&b&&G(b.refs,this.value,a)}},Ab={init:function(a,b,c){a.removeAttribute("if");r(this,{tag:b,expr:c,stub:A(),pristine:a});b=a.parentNode;
b.insertBefore(this.stub,a);b.removeChild(a);return this},update:function(){(this.value=w(this.expr,this.tag))&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Xa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(ea(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]);this.value&&
t(this.expressions,ta.bind(this.tag))},unmount:function(){ea(this.expressions||[])}},Kb=Object.freeze({arrayishAdd:O,getTagName:ba,inheritParentProps:pa,mountTo:wa,selectTags:W,arrayishRemove:G,getTag:aa,initChildTag:ra,moveChildTag:Qa,makeReplaceVirtual:sa,getImmediateCustomParentTag:K,makeVirtual:da,moveVirtual:Ra,unmountAll:ea,createIfDirective:Wa,createRefDirective:Ua}),ab=qa,bb={tmpl:w,brackets:S,styleManager:L,vdom:Q,styleNode:L.styleNode,dom:Gb,check:Hb,misc:Ib,tags:Kb},Lb=va,Mb=X,Nb=za,Ob=
r({},Jb,{observable:za,settings:ab,util:bb});f.settings=ab;f.util=bb;f.Tag=Ka;f.tag=Lb;f.tag2=La;f.mount=Ma;f.mixin=Mb;f.update=Oa;f.unregister=Pa;f.version="v3.9.4";f.observable=Nb;f.default=Ob;Object.defineProperty(f,"__esModule",{value:!0})});+function(f){function g(l){return this.each(function(){var g=f(this),k=g.data("bs.tab");k||g.data("bs.tab",k=new n(this));if("string"==typeof l)k[l]()})}var n=function(g){this.element=f(g)};n.VERSION="3.3.7";n.TRANSITION_DURATION=150;n.prototype.show=function(){var g=this.element,k=g.closest("ul:not(.dropdown-menu)"),m=g.data("target");m||(m=(m=g.attr("href"))&&m.replace(/.*(?=#[^\s]*$)/,""));if(!g.parent("li").hasClass("active")){var n=k.find(".active:last a"),I=f.Event("hide.bs.tab",{relatedTarget:g[0]}),
A=f.Event("show.bs.tab",{relatedTarget:n[0]});n.trigger(I);g.trigger(A);A.isDefaultPrevented()||I.isDefaultPrevented()||(m=f(m),this.activate(g.closest("li"),k),this.activate(m,m.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:g[0]});g.trigger({type:"shown.bs.tab",relatedTarget:n[0]})}))}};n.prototype.activate=function(g,k,m){function l(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);g.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);A?(g[0].offsetWidth,g.addClass("in")):g.removeClass("fade");g.parent(".dropdown-menu").length&&g.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);m&&m()}var r=k.find("> .active"),A=m&&f.support.transition&&(r.length&&r.hasClass("fade")||!!k.find("> .fade").length);r.length&&A?r.one("bsTransitionEnd",l).emulateTransitionEnd(n.TRANSITION_DURATION):l();r.removeClass("in")};var k=f.fn.tab;f.fn.tab=g;f.fn.tab.Constructor=n;f.fn.tab.noConflict=function(){f.fn.tab=
k;return this};var m=function(k){k.preventDefault();g.call(f(this),"show")};f(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',m).on("click.bs.tab.data-api",'[data-toggle="pill"]',m)}(jQuery);
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,e){if(a){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];d in c||(c[d]={});c=c[d]}b=b[b.length-1];e=c[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(a,c){var b=this;b instanceof String&&(b=String(b));var d=b.length;c=c||0;for(0>c&&(c=Math.max(c+d,0));c<d;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,a,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var d=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<d;)if(b[c++]!=a[h++])return!1;return h>=f}},"es6","es3");
riot.tag2("message",'<div if="{text != \'\' && !dismissed}" class="alert alert-{type} {alert-dismissible: dismissible}" riot-style="{style}"> <button if="{dismissible}" type="button" class="close" aria-label="Close"><span aria-hidden="true" onclick="{dismiss}">&times;</span></button> <raw content="{text}"></raw> </div>',"","",function(b){var a=this;a.plugin=b.plugin||console.error("no plugin set");a.name=b.name;a.text=b.text||"";a.type=b.type||"";a.dismissible=b.dismissible||!1;a.style=b.style||"";
a.dismissed=!1;a.plugin.on("set-message",function(c,b,d){void 0!=d&&d!=a.name||void 0==d&&void 0!=a.name||(a.text=c,a.type=b,a.dismissed=!1,a.update())});a.dismiss=function(c){a.dismissed=!0}});riot.tag2("raw","<span></span>","","",function(b){var a=this;a.root.innerHTML=b.content;a.on("update",function(){a.root.innerHTML=b.content})});riot.tag2("sitemap-generator",'<div> <form name="sitemapForm"> <div class="btn-group" role="group"> <button type="submit" class="btn {generateClass}" onclick="{generate}" if="{!generateDisabled}">Generate sitemap</button> <button class="btn btn-danger" onclick="{stopGeneration}" if="{generateDisabled}">Stop generation</button> <a class="btn {downloadClass}" onclick="{download}" disabled="{downloadDisabled}" download="sitemap.xml" href="{href}">Download</a> </div> </form> <message plugin="{events}" text="Sitemap Generator is initializing, please wait a moment." type="warning"></message> </div> <div class="row"> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Sitemap Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Sitemap URL count</td> <td class="text-right" style="width: 200px;">{stats.SitemapURLCount}</td> </tr> <tr if="{hasToken()}"> <td>Sitemap image count</td> <td class="text-right">{stats.SitemapImageCount}</td> </tr> <tr if="{hasToken()}"> <td>Sitemap video count</td> <td class="text-right">{stats.SitemapVideoCount}</td> </tr> </table> </div> </div> <div if="{stats && hasToken()}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Download Last Sitemap (or Index File and Sitemaps) <span title="Downloads for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td><a href="{apiserverURL(\'/sitemap.xml?download=1\');}">sitemap.xml</a></td> </tr> <tr each="{subSitemap in subSitemaps()}"> <td><a href="{apiserverURL(\'/\' + subSitemap + \'?download=1\')}">{subSitemap}</a></td> </tr> </table> </div> </div> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Crawl Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Crawled URLs count</td> <td class="text-right" style="width: 200px;">{stats.CrawledResourcesCount}</td> </tr> <tr> <td>Dead URLs count</td> <td class="text-right">{stats.DeadResourcesCount}</td> </tr> <tr> <td>Timed out URLs count</td> <td class="text-right">{stats.TimedOutResourcesCount}</td> </tr> <tr> <td>Started at</td> <td class="text-right">{datetime(stats.StartedAt)}</td> </tr> <tr> <td>Finished at</td> <td class="text-right">{datetime(stats.FinishedAt)}</td> </tr> <tr> <td colspan="2"> <i>Want find out more about the dead and timed out URLs? Have a look at my <a href="https://www.marcobeierer.com/tools/link-checker" target="_blank">Link Checker</a>.</i> </td> </tr> </table> </div> </div> <div if="{stats}" class="col-lg-12"> <div class="panel panel-default"> <div class="panel-heading">Setting Stats <span title="Stats for generation process that has finished at {datetime(stats.FinishedAt)}" class="pull-right">{datetime(stats.FinishedAt)}</span></div> <table class="table table-bordered"> <tr> <td>Crawl delay</td> <td class="text-right" style="width: 200px;">{stats.CrawlDelayInSeconds} seconds</td> </tr> <tr> <td>Concurrent fetchers</td> <td class="text-right">{stats.MaxFetchers}</td> </tr> <tr> <td>URL limit</td> <td class="text-right">{stats.URLLimit} URLs</td> </tr> <tr> <td>Limit reached</td> <td class="text-right">{bool2text(stats.URLLimitReached)}</td> </tr> <tr> <td>Token used</td> <td class="text-right">{bool2text(stats.TokenUsed)}</td> </tr> </table> </div> </div> </div>',
"","",function(b){var a=this;a.events=riot.observable();a.downloadDisabled=!0;a.generateDisabled=!1;a.pageCount=0;a.stats=null;a.forceStop=!1;a.sitemapGeneratorBlob;a.href;a.websiteURL=function(){return b.websiteUrl||""};a.websiteURL64=function(){var c=window.btoa(encodeURIComponent(a.websiteURL()).replace(/%([0-9A-F]{2})/g,function(a,c){return String.fromCharCode("0x"+c)}));c.replace(/\+/g,"-").replace(/\//g,"_");return c};a.token=function(){return b.token?b.token.replace(/\s/g,""):b.token};a.hasToken=
function(){return![void 0,null,""].includes(a.token())};a.identifier=function(){return b.identifier||""};a.systemName=function(){return b.systemName||"Unknown"};a.btnPrimaryClass=function(){return b.btnPrimaryClass||"btn-primary"};a.btnDefaultClass=function(){return b.btnDefaultClass||"btn-default"};a.maxFetchers=function(){return b.maxFetchers||3};a.ignoreEmbeddedContent=function(){return b.ignoreEmbeddedContent||""};a.referenceCountThreshold=function(){return b.referenceCountThreshold||5};a.queryParamsToRemove=
function(){return b.queryParamsToRemove||""};a.disableCookies=function(){return b.disableCookies||""};a.enableIndexFile=function(){return b.enableIndexFile||""};a.sitemapFilename=function(){return b.sitemapFilename||"sitemap.xml"};a.setMessage=function(c,b,d){a.events.trigger("set-message",c,b,d)};a.on("before-mount",function(){a.generateClass=a.btnPrimaryClass();a.downloadClass=a.btnDefaultClass()});a.on("mount",function(){if(""!=a.websiteURL()){var c="";a.hasToken()&&(c="BEARER "+a.token());a.websiteURL64();
var b=a.apiserverURL("/running");jQuery.ajax({method:"GET",url:b,headers:{Authorization:c,"Cache-Control":"no-store"}}).done(function(c,b,e){c.Running?a.generate():a.setMessage("The Sitemap Generator was not started yet.","info");c.SitemapAvailable&&a.loadDataFromServer()}).fail(function(c){a.setMessage("The Sitemap Generator was not started yet.","info")})}else setTimeout(function(){a.setMessage("The generation of the sitemap was not started yet.","info")},500)});a.apiserverURL=function(c){void 0==
c&&(c="");var e=b.proxyUrl;e&&""==c||(e=b.dev?"http://marco-desktop:9999/sitemap/v2/"+a.websiteURL64():"https://api.marcobeierer.com/sitemap/v2/"+a.websiteURL64());""==c&&(c="",c=b.proxyUrl?c+"&":c+"?",c=c+"pdfs=1&origin_system="+encodeURIComponent(a.systemName().toLowerCase()),c+="&max_fetchers="+encodeURIComponent(a.maxFetchers()),c+="&ignore_embedded_content="+encodeURIComponent(a.ignoreEmbeddedContent()),c+="&reference_count_threshold="+encodeURIComponent(a.referenceCountThreshold()),c+="&query_params_to_remove="+
encodeURIComponent(a.queryParamsToRemove()),c+="&disable_cookies="+encodeURIComponent(a.disableCookies()),c+="&enable_index_file="+encodeURIComponent(a.enableIndexFile()),b.proxyUrl&&(c+="&baseurl64="+a.websiteURL64(),""!=a.identifier()&&(c+="&identifier="+a.identifier())));return e+c};a.generate=function(c){c&&c.preventDefault();a.downloadDisabled=!0;a.generateDisabled=!0;a.pageCount=0;a.setMessage("The sitemap is being generated. Please wait a moment.","warning");a.generateClass=a.btnPrimaryClass();
a.downloadClass=a.btnDefaultClass();a.retries=0;var e=function(){var c="";a.hasToken()&&(c="BEARER "+a.token());jQuery.ajax({method:"GET",url:a.apiserverURL(),headers:{Authorization:c,"Cache-Control":"no-store"}}).done(function(d,h,g){a.retries=0;g.getResponseHeader("Content-Type").startsWith("application/xml")||g.getResponseHeader("Content-Type").startsWith("text/xml")?(a.sitemapGeneratorBlob=new Blob([g.responseText],{type:"application/xml"}),a.href=(window.URL||window.webkitURL).createObjectURL(a.sitemapGeneratorBlob),
a.downloadDisabled=!1,a.events.trigger("stopped"),null!=g.getResponseHeader("X-Stats")&&(a.stats=JSON.parse(g.getResponseHeader("X-Stats"))),a.stats&&a.stats.URLLimitReached?a.setMessage("The Sitemap Generator reached the URL limit and the generated sitemap probably isn't complete. You may buy a token for the <a href=\""+b.professionalUrl+"\">Sitemap Generator Professional</a> to crawl up to 50'000 URLs and create a complete sitemap. Additionally to a higher URL limit, the professional version also adds images and videos to your sitemap.",
"danger"):(d="Your sitemap was generated successfully. You can download the sitemap now.",["WordPress","Joomla"].includes(a.systemName())&&(d="The generation of the sitemap was successful. The sitemap was saved with the filename "+a.sitemapFilename()+" in the root folder of your "+a.systemName()+" instance. Please see the stats below."),a.setMessage(d,"success")),a.generateClass=a.btnDefaultClass(),a.downloadClass=a.btnPrimaryClass()):(a.pageCount=d.page_count,0<a.pageCount&&(d="The sitemap is being generated. Please wait a moment.<br />"+
a.pageCount+" URLs already processed.",a.setMessage(d,"warning")),a.forceStop?a.stop(a.apiserverURL(),c):setTimeout(e,1E3));a.update()}).fail(function(b,d,g){d=b.status;a.events.trigger("stopped");if(401==d)a.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger");else if(500==d)1==b.getResponseHeader("X-Write-Error")?a.setMessage("Could not write sitemap to file. The reason for that could be a permission issue or that not enough space is available.",
"danger"):![void 0,null,""].includes(b.responseJSON)&&b.getResponseHeader("Content-Type").startsWith("application/json")?a.setMessage("The generation of your sitemap failed with the error:<br/><strong>"+b.responseJSON+"</strong>.","danger"):a.setMessage("The generation of your sitemap failed. Please try it again.","danger");else if(503==d)a.setMessage("The backend server is temporarily unavailable. Please try it again later.");else if(504==d&&1==b.getResponseHeader("X-CURL-Error"))b=b.responseJSON,
""==b?a.setMessage("A cURL error occurred. Please contact the developer of the extensions.","danger"):a.setMessage("A cURL error occurred with the error message:<br/><strong>"+b+"</strong>.","danger");else{if(0==d&&3>a.retries){a.retries++;a.forceStop?a.stop(a.apiserverURL(),c):setTimeout(e,1E3);a.update();return}a.setMessage("The generation of your sitemap failed. Please try it again or contact the developer of the extensions.","danger")}a.update()})};e()};a.download=function(c){window.navigator.msSaveOrOpenBlob&&
a.sitemapGeneratorBlob&&window.navigator.msSaveOrOpenBlob(a.sitemapGeneratorBlob,"sitemap.xml")};a.stopGeneration=function(c){c.preventDefault();a.forceStop=!0};a.events.on("stopped",function(){a.generateDisabled=!1;a.update()});a.stop=function(c,b){a.setMessage("Going to stop the current generation.","warning");a.update();jQuery.ajax({method:"DELETE",url:c,headers:{Authorization:b}}).done(function(c){a.setMessage("The current generation was stopped successfully.","info")}).fail(function(c){a.setMessage("Could not stop the generation because the connection to the server failed.",
"danger")}).always(function(){a.forceStop=!1;a.events.trigger("stopped");a.update()})};a.loadDataFromServer=function(){if(a.hasToken()){var c="BEARER "+a.token();a.websiteURL64();var b=a.apiserverURL("/stats");jQuery.ajax({method:"GET",url:b,headers:{Authorization:c}}).done(function(c){a.stats=c}).fail(function(a){console.log("fetching saved result failed")}).always(function(){a.update()})}};a.bool2text=function(a){return a?"Yes":"No"};a.subSitemaps=function(){var c=[];if(!a.stats)return c;for(var b=
"",d=0;d<a.stats.SitemapIndexNumberOfDigits;d++)b+="0";for(d=0;d<a.stats.SitemapIndexCount;d++){var f=(b+d).slice(-a.stats.SitemapIndexNumberOfDigits);c.push("sitemap."+f+".xml")}return c};a.datetime=function(a){return(new Date(a)).toLocaleString()};a.datetimeAt=function(b){return a.datetime(b).replace(","," at")}});
